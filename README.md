# SRT 文件处理脚本

这个 Python 脚本用于处理 .srt 字幕文件,并通过 Dify API 生成新的内容。

## 功能

- 读取 .srt 文件
- 调用 Dify API 处理文件内容
- 生成新的 .srt 文件

## 使用要求

- Python 3.6 或更高版本
- 安装了 `requests` 库

## 安装

1. 确保您的系统已安装 Python 3.6 或更高版本。

2. 安装所需的 `requests` 库:

   ```
   pip install requests
   ```

## 使用方法

1. 打开命令行终端。

2. 导航到包含 `run.py` 脚本的目录。

3. 运行以下命令:

   ```
   python run.py <文件路径> <文稿主题>
   ```

   其中:
   - `<文件路径>` 是您要处理的 .srt 文件的路径
   - `<文稿主题>` 是您要指定的文稿主题

   例如:
   ```
   python run.py ./subtitles.srt "科技创新"
   ```

4. 脚本将处理文件并在同一目录下生成一个新的 .srt 文件,文件名格式为 `原文件名.new.srt`。

## 注意事项

- 脚本只支持处理 .srt 后缀的文件。
- 确保您有足够的权限读取输入文件和写入新文件。
- 如果生成的新文件已经存在,它将被覆盖。
- 请确保您的网络连接正常,以便脚本能够调用 Dify API。

## 错误处理

脚本会处理常见的错误情况,如文件不存在、格式不正确、网络问题等,并显示相应的错误消息。

如果您在使用过程中遇到任何问题,请检查错误消息并相应地调整您的输入或环境。